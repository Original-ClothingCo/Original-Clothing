<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart - Originals Clothing Company</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
         .header-title, .section-title {
            font-family: 'Playfair Display', serif;
        }
        .section-title {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.4);
        }
        /* Lightbox Modal Styles */
        .lightbox {
            transition: opacity 0.3s ease;
        }
        .lightbox-content {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
    </style>
</head>
<body class="bg-sky-600 text-gray-800">

    <!-- Header Section -->
    <header class="bg-gray-800 shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-2 flex justify-between items-center">
            <a href="./index.html" class="flex items-center space-x-3">
                 <img src="https://raw.githubusercontent.com/Original-ClothingCo/Original-Clothing/47d82d96cc2d021c935c49996627cd8db0ca46c0/OriginalsLogo.jpg" alt="Originals Clothing Company Logo" class="h-12 rounded-full" onerror="this.onerror=null;this.src='https://placehold.co/200x64/000000/FFFFFF?text=Logo';">
                <h1 class="header-title text-3xl md:text-4xl font-bold text-white tracking-tight">
                    Originals
                </h1>
            </a>
            <div class="flex items-center space-x-4 md:space-x-6">
                <a href="./index.html" class="text-gray-300 hover:text-sky-400">Shop</a>
                <a href="./about.html" class="text-gray-300 hover:text-sky-400">About</a>
                <a href="./contact.html" class="text-gray-300 hover:text-sky-400">Contact</a>
                <a href="./cart.html" class="relative">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-sky-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </a>
            </div>
        </nav>
    </header>

    <!-- Main Content: Shopping Cart -->
    <main class="container mx-auto px-6 py-12">
        <div class="flex justify-between items-center mb-8">
            <h2 class="section-title text-5xl font-bold text-white">Your Cart</h2>
            <a href="./index.html" id="continue-shopping-btn" class="hidden bg-gray-700 text-white py-3 px-8 rounded-lg font-semibold hover:bg-gray-600 transition-colors shadow-lg border border-gray-600">
                Continue Shopping
            </a>
        </div>
        <div id="cart-container" class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <!-- Cart Items List -->
            <div id="cart-items" class="lg:col-span-2 bg-gray-800 border border-gray-700 p-6 rounded-lg shadow-lg">
                <!-- Cart items will be dynamically inserted here -->
                <div id="empty-cart-message" class="text-center py-12">
                    <p class="text-xl text-gray-400">Your cart is empty.</p>
                    <a href="./index.html" class="mt-4 inline-block bg-sky-500 text-white py-2 px-6 rounded-lg font-semibold hover:bg-sky-600 transition-colors">
                        Start Shopping
                    </a>
                </div>
            </div>

            <!-- Checkout Section -->
            <div id="checkout-section" class="lg:col-span-1 bg-gray-800 border border-gray-700 p-6 rounded-lg shadow-lg h-fit hidden">
                <h3 class="text-2xl font-bold border-b border-gray-600 pb-4 mb-4 text-white">Order Summary</h3>
                <div class="space-y-3 text-lg text-gray-300">
                    <div class="flex justify-between">
                        <span>Subtotal</span>
                        <span id="subtotal"></span>
                    </div>
                    <div class="flex justify-between">
                        <span>Shipping</span>
                        <span id="shipping">$5.00</span>
                    </div>
                    <div class="flex justify-between font-bold text-xl border-t border-gray-600 pt-4 text-white">
                        <span>Total</span>
                        <span id="total"></span>
                    </div>
                </div>
                <button id="checkout-btn" class="w-full mt-6 bg-green-500 text-white py-3 px-4 rounded-lg font-semibold text-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors">
                    Proceed to Checkout
                </button>
            </div>

        </div>
    </main>
    
    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <button onclick="navigateLightbox(-1)" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-white bg-opacity-70 rounded-full p-3 text-gray-800 hover:bg-opacity-100 focus:outline-none z-10">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
        </button>
        <div class="lightbox-content bg-white p-2 rounded-lg max-w-3xl max-h-full transform scale-95">
            <img id="lightbox-img" src="" alt="Enlarged product view" class="max-w-full max-h-[85vh] object-contain">
        </div>
        <button onclick="navigateLightbox(1)" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-white bg-opacity-70 rounded-full p-3 text-gray-800 hover:bg-opacity-100 focus:outline-none z-10">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
        </button>
        <button onclick="closeLightbox()" class="absolute top-4 right-4 text-white text-3xl font-bold">&times;</button>
    </div>

    <!-- Checkout Confirmation Modal -->
    <div id="checkoutModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3 text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100">
                    <svg class="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                </div>
                <h3 class="text-lg leading-6 font-medium text-gray-900 mt-2">Checkout Initiated</h3>
                <div class="mt-2 px-7 py-3">
                    <p class="text-sm text-gray-500">
                        This is a demo. In a real application, you would be redirected to a payment page.
                    </p>
                </div>
                <div class="items-center px-4 py-3">
                    <button id="closeCheckoutModal" class="px-4 py-2 bg-sky-500 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-300">
                        OK
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Section -->
    <footer class="bg-gray-800 border-t border-gray-700 mt-12">
        <div class="container mx-auto px-6 py-8 text-center text-gray-400">
            <p>&copy; 2024 Originals Clothing Company. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        // Data for all products needs to be available on this page for the lightbox
        const allProducts = [
            { id: 1, name: 'Originals Tee', price: '20.00', images: ['https://placehold.co/600x800/d1d4d8/333333?text=T-Shirt+1', 'https://placehold.co/600x800/d1d4d8/444444?text=T-Shirt+2', 'https://placehold.co/600x800/d1d4d8/555555?text=T-Shirt+3', 'https://placehold.co/600x800/d1d4d8/666666?text=T-Shirt+4', 'https://placehold.co/600x800/d1d4d8/777777?text=T-Shirt+5', 'https://placehold.co/600x800/d1d4d8/888888?text=T-Shirt+6', 'https://placehold.co/600x800/d1d4d8/999999?text=T-Shirt+7', 'https://placehold.co/600x800/d1d4d8/aaaaaa?text=T-Shirt+8', 'https://placehold.co/600x800/d1d4d8/bbbbbb?text=T-Shirt+9', 'https://placehold.co/600x800/d1d4d8/cccccc?text=T-Shirt+10'] },
            { id: 2, name: 'Originals Hoodie', price: '50.00', images: ['https://placehold.co/600x800/4a5568/ffffff?text=Hoodie+1', 'https://placehold.co/600x800/4a5568/eeeeee?text=Hoodie+2', 'https://placehold.co/600x800/4a5568/dddddd?text=Hoodie+3', 'https://placehold.co/600x800/4a5568/cccccc?text=Hoodie+4', 'https://placehold.co/600x800/4a5568/bbbbbb?text=Hoodie+5', 'https://placehold.co/600x800/4a5568/aaaaaa?text=Hoodie+6', 'https://placehold.co/600x800/4a5568/999999?text=Hoodie+7', 'https://placehold.co/600x800/4a5568/888888?text=Hoodie+8', 'https://placehold.co/600x800/4a5568/777777?text=Hoodie+9', 'https://placehold.co/600x800/4a5568/666666?text=Hoodie+10'] },
            { id: 3, name: 'Originals Jacket', price: '50.00', images: ['https://placehold.co/600x800/333333/ffffff?text=Jacket+1', 'https://placehold.co/600x800/333333/eeeeee?text=Jacket+2', 'https://placehold.co/600x800/333333/dddddd?text=Jacket+3', 'https://placehold.co/600x800/333333/cccccc?text=Jacket+4', 'https://placehold.co/600x800/333333/bbbbbb?text=Jacket+5', 'https://placehold.co/600x800/333333/aaaaaa?text=Jacket+6', 'https://placehold.co/600x800/333333/999999?text=Jacket+7', 'https://placehold.co/600x800/333333/888888?text=Jacket+8', 'https://placehold.co/600x800/333333/777777?text=Jacket+9', 'https://placehold.co/600x800/333333/666666?text=Jacket+10'] },
            { id: 4, name: 'Originals Sweatpants', price: '50.00', images: ['https://placehold.co/600x800/718096/ffffff?text=Pants+1', 'https://placehold.co/600x800/718096/eeeeee?text=Pants+2', 'https://placehold.co/600x800/718096/dddddd?text=Pants+3', 'https://placehold.co/600x800/718096/cccccc?text=Pants+4', 'https://placehold.co/600x800/718096/bbbbbb?text=Pants+5', 'https://placehold.co/600x800/718096/aaaaaa?text=Pants+6', 'https://placehold.co/600x800/718096/999999?text=Pants+7', 'https://placehold.co/600x800/718096/888888?text=Pants+8', 'https://placehold.co/600x800/718096/777777?text=Pants+9', 'https://placehold.co/600x800/718096/666666?text=Pants+10'] },
            { id: 5, name: 'Originals Shorts', price: '30.00', images: ['https://placehold.co/600x800/a0aec0/333333?text=Shorts+1', 'https://placehold.co/600x800/a0aec0/444444?text=Shorts+2', 'https://placehold.co/600x800/a0aec0/555555?text=Shorts+3', 'https://placehold.co/600x800/a0aec0/666666?text=Shorts+4', 'https://placehold.co/600x800/a0aec0/777777?text=Shorts+5', 'https://placehold.co/600x800/a0aec0/888888?text=Shorts+6', 'https://placehold.co/600x800/a0aec0/999999?text=Shorts+7', 'https://placehold.co/600x800/a0aec0/aaaaaa?text=Shorts+8', 'https://placehold.co/600x800/a0aec0/bbbbbb?text=Shorts+9', 'https://placehold.co/600x800/a0aec0/cccccc?text=Shorts+10'] },
            { id: 6, name: 'Originals Beanie', price: '20.00', images: ['https://placehold.co/600x800/2d3748/ffffff?text=Beanie+1', 'https://placehold.co/600x800/2d3748/eeeeee?text=Beanie+2', 'https://placehold.co/600x800/2d3748/dddddd?text=Beanie+3', 'https://placehold.co/600x800/2d3748/cccccc?text=Beanie+4', 'https://placehold.co/600x800/2d3748/bbbbbb?text=Beanie+5', 'https://placehold.co/600x800/2d3748/aaaaaa?text=Beanie+6', 'https://placehold.co/600x800/2d3748/999999?text=Beanie+7', 'https://placehold.co/600x800/2d3748/888888?text=Beanie+8', 'https://placehold.co/600x800/2d3748/777777?text=Beanie+9', 'https://placehold.co/600x800/2d3748/666666?text=Beanie+10'] },
            { id: 7, name: 'Originals Trucker Hat', price: '25.00', images: ['https://placehold.co/600x800/1a202c/ffffff?text=Hat+1', 'https://placehold.co/600x800/1a202c/eeeeee?text=Hat+2', 'https://placehold.co/600x800/1a202c/dddddd?text=Hat+3', 'https://placehold.co/600x800/1a202c/cccccc?text=Hat+4', 'https://placehold.co/600x800/1a202c/bbbbbb?text=Hat+5', 'https://placehold.co/600x800/1a202c/aaaaaa?text=Hat+6', 'https://placehold.co/600x800/1a202c/999999?text=Hat+7', 'https://placehold.co/600x800/1a202c/888888?text=Hat+8', 'https://placehold.co/600x800/1a202c/777777?text=Hat+9', 'https://placehold.co/600x800/1a202c/666666?text=Hat+10'] },
            { id: 8, name: 'Originals Hoodie and Sweatpants Combo', price: '90.00', images: ['https://placehold.co/600x800/c53030/ffffff?text=Combo+1', 'https://placehold.co/600x800/c53030/eeeeee?text=Combo+2', 'https://placehold.co/600x800/c53030/dddddd?text=Combo+3', 'https://placehold.co/600x800/c53030/cccccc?text=Combo+4', 'https://placehold.co/600x800/c53030/bbbbbb?text=Combo+5', 'https://placehold.co/600x800/c53030/aaaaaa?text=Combo+6', 'https://placehold.co/600x800/c53030/999999?text=Combo+7', 'https://placehold.co/600x800/c53030/888888?text=Combo+8', 'https://placehold.co/600x800/c53030/777777?text=Combo+9', 'https://placehold.co/600x800/c53030/666666?text=Combo+10'] }
        ];

        let currentLightboxProductId = null;
        let currentLightboxImageIndex = 0;

        document.addEventListener('DOMContentLoaded', () => {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartCountElement = document.getElementById('cart-count');
            const subtotalElement = document.getElementById('subtotal');
            const totalElement = document.getElementById('total');
            const emptyCartMessage = document.getElementById('empty-cart-message');
            const checkoutSection = document.getElementById('checkout-section');
            const continueShoppingBtn = document.getElementById('continue-shopping-btn');
            const checkoutBtn = document.getElementById('checkout-btn');
            const checkoutModal = document.getElementById('checkoutModal');
            const closeCheckoutModal = document.getElementById('closeCheckoutModal');
            const lightbox = document.getElementById('lightbox');
            const shippingCost = 5.00;

            function loadCart() {
                const cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
                cartCountElement.innerText = cart.length;
                let cartItemsHtml = ''; 

                if (cart.length === 0) {
                    emptyCartMessage.style.display = 'block';
                    checkoutSection.style.display = 'none';
                    continueShoppingBtn.style.display = 'none';
                    cartItemsContainer.innerHTML = ''; 
                    cartItemsContainer.appendChild(emptyCartMessage);
                } else {
                    emptyCartMessage.style.display = 'none';
                    checkoutSection.style.display = 'block';
                    continueShoppingBtn.style.display = 'inline-block';
                    let currentSubtotal = 0;
                    
                    cart.forEach((item, index) => {
                        cartItemsHtml += `
                            <div class="flex items-center justify-between border-b border-gray-700 py-4">
                                <div class="flex items-center space-x-4">
                                    <img src="${item.image}" alt="${item.name}" class="w-20 h-24 object-cover rounded-md cursor-pointer" onclick="openLightbox(${item.id}, '${item.image}')">
                                    <div>
                                        <p class="font-semibold text-lg text-white">${item.name}</p>
                                        <div class="mt-1 flex items-center space-x-4 text-base">
                                            <p><span class="font-semibold text-white">Size:</span> <span class="font-semibold text-white">${item.size}</span></p>
                                            <p><span class="font-semibold text-white">Color:</span> <span class="font-semibold text-white">${item.color}</span></p>
                                        </div>
                                        <p class="text-gray-200 font-semibold mt-2">${item.price}</p>
                                    </div>
                                </div>
                                <button data-index="${index}" class="remove-item text-red-500 hover:text-red-400 font-semibold">Remove</button>
                            </div>
                        `;
                        currentSubtotal += parseFloat(item.price.replace('$', ''));
                    });
                    
                    cartItemsContainer.innerHTML = cartItemsHtml; 
                    subtotalElement.innerText = '$' + currentSubtotal.toFixed(2);
                    totalElement.innerText = '$' + (currentSubtotal + shippingCost).toFixed(2);
                }
            }

            cartItemsContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('remove-item')) {
                    const itemIndex = parseInt(e.target.getAttribute('data-index'));
                    let cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
                    cart.splice(itemIndex, 1); 
                    localStorage.setItem('shoppingCart', JSON.stringify(cart));
                    loadCart(); 
                }
            });
            
            window.openLightbox = function(productId, imageUrl) {
                const product = allProducts.find(p => p.id == productId); // Use == for loose comparison as productId might be a string from data attribute
                if (!product) return;

                const imageIndex = product.images.findIndex(img => img === imageUrl);
                
                currentLightboxProductId = productId;
                currentLightboxImageIndex = (imageIndex !== -1) ? imageIndex : 0;

                lightbox.querySelector('#lightbox-img').src = product.images[currentLightboxImageIndex];
                lightbox.classList.remove('hidden');
                setTimeout(() => {
                    lightbox.classList.remove('opacity-0');
                    lightbox.querySelector('.lightbox-content').classList.remove('scale-95');
                }, 10);
            }

            window.closeLightbox = function() {
                lightbox.classList.add('opacity-0');
                lightbox.querySelector('.lightbox-content').classList.add('scale-95');
                setTimeout(() => {
                    lightbox.classList.add('hidden');
                }, 300);
            }

            window.navigateLightbox = function(direction) {
                if (currentLightboxProductId === null) return;
                const product = allProducts.find(p => p.id == currentLightboxProductId);
                if (!product) return;

                let newIndex = currentLightboxImageIndex + direction;
                if (newIndex < 0) {
                    newIndex = product.images.length - 1;
                } else if (newIndex >= product.images.length) {
                    newIndex = 0;
                }
                currentLightboxImageIndex = newIndex;
                
                const lightboxImg = lightbox.querySelector('#lightbox-img');
                lightboxImg.style.opacity = 0;
                setTimeout(() => {
                    lightboxImg.src = product.images[newIndex];
                    lightboxImg.style.opacity = 1;
                }, 150);
            }


            checkoutBtn.addEventListener('click', () => {
                checkoutModal.style.display = 'block';
            });

            closeCheckoutModal.addEventListener('click', () => {
                checkoutModal.style.display = 'none';
            });

            window.addEventListener('click', (event) => {
                if (event.target == checkoutModal || event.target == lightbox) {
                    checkoutModal.style.display = 'none';
                    closeLightbox();
                }
            });

            loadCart();
        });
    </script>

</body>
</html>
